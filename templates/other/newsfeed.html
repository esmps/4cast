{% extends 'base.html' %}

{% block title %}Newsfeed{% endblock %}

{% block content %}
<div class="container justify-content-center">
    <h1 class="text-center">Climate News</h1>
    <hr>
    <div class="row text-center">
        <p style="margin:0"> |
            {% for i in range(1,6) %}
                {% if i == page_id %}
                <a style="color: darkblue" href="{{ url_for('newsfeed', page_id=i) }}">{{i}}</a> |
                {% else %}
                <a href="{{ url_for('newsfeed', page_id=i) }}">{{i}}</a> |
                {% endif %}
            {% endfor %}
        </p>
    </div>
    {% for article in articles %}
        <div class="card" style="width: 50%; margin: 25px auto; border:none">
            {% if article.urlToImage %}
                <a href="{{article.url}}" target="_blank"><img class="card-img-top" src="{{article.urlToImage}}" alt="Article Image"></a>
            {% else %}
                <a href="{{article.url}}" target="_blank"><img class="card-img-top" src="/static/images/default-image.jpg" alt="Article Image"></a>
            {% endif %}
            <div class="card-body">
                <h5 class="card-title">{{article.title}}</h5>
                <div style="color: grey">
                    <div><small>{{article.source.name}}  ||  {{article.publishedAt[:10]}}</small></div>
                    <p><small>by {{article.author}}</small></p>
                </div>
                <p class="card-text">{{article.description}}</p>
            </div>
        </div>
    {% endfor %}

    <div class="row text-center">
        <p style="margin:0"> |
            {% for i in range(1,6) %}
                {% if i == page_id %}
                <a style="color: darkblue"  href="{{ url_for('newsfeed', page_id=i) }}">{{i}}</a> |
                {% else %}
                <a href="{{ url_for('newsfeed', page_id=i) }}">{{i}}</a> |
                {% endif %}
            {% endfor %}
        </p>
    </div>
    <div class="row justify-content-center">
        <a href="#top" class="btn btn-block" style="width: 150px; background-color: rgb(71, 100, 130); color:white; margin: 15px">Scroll to Top</a>
    </div>
</div>

{% endblock %}